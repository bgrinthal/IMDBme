@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Hello World</h1>

    <div class="container-fluid">
        <h2>Bootstrap Horizontal Scrolling with Flexbox</h2>
        <div class="row flex-nowrap" id="trending">
	        
        </div>
    </div>
</div>

@section Scripts{
    <script>
        const trendingList = document.getElementById("trending")
        const loadImdbDetails = async () => {
            try {
                const res = await fetch('https://api.themoviedb.org/3/trending/movie/week?api_key=5ce87294fb3a862a4f6352de3650c10e');
                const movieData = await res.json();
                displayTrending(movieData);
                console.log(movieData.results[0]);
            }
            catch (err){
                console.log(err)
            }
        }
        loadImdbDetails();

        const displayTrending = (data) => {
            for (let i = 0; i < 9; i++) {
            const htmlString = `
                            <div class="col-3">
              <div class="card" style="">
                    <img class="card-img-top" style="" src="https://image.tmdb.org/t/p/original/${data.results[i].poster_path}" alt="${data.results[i].title} poster image">
              </div>
        </div>

            `;
            trendingList.innerHTML += htmlString;
            }
            
        }
    </script>
}